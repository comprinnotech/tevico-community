name: Azure | Well Architected Review

version: 1.0.0

description: |
  The Azure Well-Architected Framework is a set of guiding tenets that can be used to improve the quality of a workload.
  The framework consists of five pillars of architecture excellence:

  1. Cost Optimization
  2. Operational Excellence  
  3. Performance Efficiency
  4. Reliability
  5. Security

  https://docs.microsoft.com/en-us/azure/architecture/framework/

sections:
  - name: Cost Optimization
    description: |
      The Cost Optimization pillar provides principles for balancing business goals with budget justification to create a 
      cost-effective workload while avoiding capital-intensive solutions.
    sections:
      - name: Cost-Effective Resources
        description: |
          Optimize costs by choosing the right resources and configurations for your workload requirements.
        checks:
          - vm_managed_disk_encryption
          - storage_account_secure_transfer
          - key_vault_soft_delete_enabled

  - name: Security
    description: |
      The Security pillar provides guidance to help you apply security practices throughout the architecture, data, and processes 
      when you design a workload.
    sections:
      - name: Identity and Access Management
        description: |
          Implement proper identity and access management controls to secure your Azure resources.
        checks:
          - aad_conditional_access_enabled
          - key_vault_rbac_enabled
          - storage_account_public_access_disabled
      
      - name: Data Protection
        description: |
          Ensure data is protected both at rest and in transit across all Azure services.
        checks:
          - vm_disk_encryption_enabled
          - sql_database_transparent_encryption
          - storage_account_https_only

  - name: Reliability
    description: |
      The Reliability pillar provides guidance for designing resilient solutions that can recover from failures and continue to function.
    sections:
      - name: Backup and Recovery
        description: |
          Implement proper backup and disaster recovery strategies for critical workloads.
        checks:
          - vm_backup_enabled
          - sql_database_backup_retention
          - storage_account_geo_redundancy

  - name: Performance Efficiency
    description: |
      The Performance Efficiency pillar provides guidance for optimizing the performance of your workload through efficient scaling.
    sections:
      - name: Monitoring and Alerting
        description: |
          Implement comprehensive monitoring and alerting for performance optimization.
        checks:
          - vm_monitoring_enabled
          - application_insights_configured
          - log_analytics_workspace_configured

  - name: Operational Excellence
    description: |
      The Operational Excellence pillar provides guidance for operationally mature workloads through standardized environments and deployment processes.
    sections:
      - name: Automation and Deployment
        description: |
          Implement automation and standardized deployment processes.
        checks:
          - resource_group_tags_present
          - vm_auto_shutdown_configured
          - automation_account_configured
